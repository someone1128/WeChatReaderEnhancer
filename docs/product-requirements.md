# 公众号阅读增强插件 - 产品需求文档

## 产品概述

公众号阅读增强插件是一款 Chrome 浏览器扩展，旨在提升用户在电脑上阅读微信公众号文章的体验。该插件通过在页面侧边栏自动生成文章的结构化目录，帮助用户快速了解文章结构、导航到感兴趣的部分，并且在阅读长文时保持阅读位置的清晰感知。

## 目标用户

- 经常在电脑上阅读微信公众号文章的用户
- 对长篇内容阅读有更好导航需求的用户
- 希望提高阅读效率的用户

## 功能需求

### 核心功能

1. **目录生成**

   - 自动识别公众号文章中的 HTML 标题标签（`<h1>`, `<h2>`, `<h3>`, `<h4>`, `<h5>`, `<h6>`）
   - 根据标题层级关系生成结构化目录树
   - 在页面侧边栏展示目录

2. **导航跳转**

   - 用户点击目录中的标题可直接跳转到文章对应位置
   - 平滑滚动动画，提升用户体验

3. **位置追踪**

   - 当用户滚动文章时，目录中当前视窗内的标题自动高亮
   - 清晰显示用户当前阅读位置

4. **折叠与展开**
   - 支持多层级目录的折叠与展开
   - 允许用户点击父级标题展开或折叠子标题
   - 默认全部展开，方便用户总览文章结构

### 增强功能（未来版本）

1. **个性化设置**

   - 允许用户自定义目录样式（字体、颜色、大小）
   - 允许用户调整目录面板宽度或位置

2. **目录搜索**

   - 在目录中添加搜索功能，快速定位关键词相关标题

3. **阅读进度保存**
   - 记住用户上次阅读位置，下次打开同一文章时自动定位

## 技术约束

1. 必须兼容微信公众号文章页面的 DOM 结构
2. 遵循 Chrome 扩展的 Manifest V3 规范
3. 确保插件性能高效，不影响页面加载速度
4. 保护用户隐私，不收集不必要的用户数据

## 成功指标

1. 插件能成功识别 90%以上公众号文章的标题结构
2. 用户平均阅读时间提升 15%
3. 用户在阅读长文时的跳出率降低 20%

## 未来规划

1. 支持更多阅读平台（知乎、简书等）
2. 添加笔记功能，允许用户在阅读时做标记
3. 提供文章摘要和关键词提取功能
